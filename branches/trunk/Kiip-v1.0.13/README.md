# Kiip SDK 1.0.13-1 2011-11-09

## ABSTRACT

An Objective-C client that interfaces with [Kiip](http://kiip.me).

## USAGE

1. Add /path/to/Kiip/Headers to the "Header Search Paths" setting.
2. Add /path/to/Kiip/$(PLATFORM_NAME) to "Library Search Paths" setting.
3. Add the following frameworks: Foundation, CFNetwork, CoreGraphics, libz.dylib, MobileCoreServices, UIKit, and SystemConfiguration.
4. Go to your target's info and add "-ObjC -lKiip" to the "Other Linker Flags" setting under the Build tag. This will inform the linker to load the Kiip static library.
5. Import Kiip.h in your pre-compiled header file or wherever you plan on accessing the library.

### EXAMPLE

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
	// Start and initialize when application starts
	KPManager* manager = [[KPManager alloc] initWithKey:@"_my_app_key_" secret:@"_my_app_secret_"];

	// Set the shared instance after initialization
	// to allow easier access of the object throughout the project.
	[KPManager setSharedManager:manager];
	[manager release];
}

- (void)applicationDidEnterBackground:(UIApplication *)application {
    // End the session when the user leaves the app
    [[KPManager sharedManager] endSession];
}


- (void)applicationWillEnterForeground:(UIApplication *)application {
    // Start a session when the user enters the app
    [[KPManager sharedManager] startSession];
}


- (void)applicationWillTerminate:(UIApplication *)application {
	// End the session when the app terminates
    [[KPManager sharedManager] endSession];
}

...

[[KPManager sharedManager] unlockAchievement:@"pot_of_gold"];
[[KPManager sharedManager] updateScore:XX onLeaderboard@"high_scores"];


## BUILD REQUIREMENTS

iOS SDK 3.0+

Frameworks:

* Foundation
* CFNetwork
* CoreGraphics
* libz.dylib
* MobileCoreServices
* UIKit
* SystemConfiguration

## PACKING LIST

### Documentation

All the HTML files generated by HeaderDoc.

* `Kiip.html` - The table of contents for the entire documentation structure.

### Static Libraries

* `iphoneos/libKiip.a` - The static library built for the iPhone Device.
* `iphonesimulator/libKiip.a` - The static library built for the iPhone Simulator.
* `universal/libKiip.a` - Combined static library built for the iPhone Device and Simulator.

### Headers

* `Kiip.h` - The main import file.
* `KPManager.h` - The main point of entry for doing anything relevant in the Kiip SDK.
* `KPManagerDelegate.h` - Defines a protocol that is used by the KPManager for delegate callbacks.
* `KPUIConstants.h` - Defines UI constants like notification positions within a view.

### Images

* `spinnger-bg.png` - The black background for the activity indicator
* `close.png` - The close button.
* `notification-portrait.png` - The background for a default Kiip notification

## CHANGES FROM PREVIOUS VERSIONS

Version 1.0.13

* Fix: NSNull bug introduced in v1.0.10
* Fix: Hopefully solve the issues some developers were having with typedef in KPUIConstants.h

Version 1.0.12

* Fix: compatibility issues with 3.x and crashes introduced in v1.0.11

Version 1.0.11

* Fix: compile static library for armv6 and armv7

Version 1.0.10

* Added a receipt to the in-game content callback for security.
* Added touch actions to the notification.
* Added support for dynamic notification layouts.
* Performance optimizations.
* Fix: center notifications when device is upside down.

Version 1.0.9

* Added KPManager updateUserInfo that takes a dictionary of user information. Currently supports:
    * alias - player's name to be displayed in a swarm.
    * email - pre-populate reward units with the user's email address.
* Added support for Kiip Swarm.
* Added support for Kiip in-game content.
* Added support for landscape promos.
* Promos will no longer queue if a unit is showing.
* Fix: didUpdateLocation wasn't being called.

Version 1.0.8

New:

* Added support for legacy devices (3.0+)
* Added optional tags to init and startSession
	- [[KPManager sharedManager] initWithKey:secret:withTags:]
	- [[KPManager sharedManager] startSessionWithTags:]
* [KPManager startSession:], [KPManager initWithKey:secret:] and [KPManager initWithKey:secret:testFrequency:] will receive promos if available.
* Unit position can now be toggled from the web interface at http://kiip.me (Notification Top|Bottom, Fullscreen)
* Loading dialog text changes depending on the unit it is loading.

If updating from a previous version:

* Fixed detecting current orientation when rotation lock is on.
* Make sure start/end session happens in applicationWillEnterForeground: and applicationDidEnterBackground: respectively
* Removed the need for -all_load and -force_load in Other Linker Flags.
* Deprecated [KPManager presentPromo:].
* Deprecated [KPManager presentReward:position:] and [KPManager presentReward:position:onView], instead set position in the resource NSDictionary and use [KPManager presentReward:] and [KPManager presentReward:onView].
* Deprecated [KPManagerDelegate positionForReward:]
* Fixed TouchJSON namespace conflict.
* Fixed TouchFoundation namespace conflict.
* Fixed SDURLCache namespace conflict.
* Fixed ASIHTTPRequest namespace conflict.
* Fixed memory leak.
* Other small bug fixes.

Version 1.0.7

* Added optional tags to Achievement Unlock and Leaderboard Score
    [[KPManager sharedManager] updateScore: onLeaderboard: withTags:]
    [[KPManager sharedManager] unlockAchievement: withTags:]
* Updated notification image preloading
* Added [[KPManager sharedManager] getActivePromos]
* Added ability to customize text of notifications
* Added functionality to provide resources to create custom notifications

Version 1.0.6

* Modified landscape loading view position
* Improved session logging
* Changed the following function names:
    KPManager
        launchSession           -> startSession
        closeSession            -> endSession
    KPManagerDelegate
        managerDidCreateSession -> managerDidStartSession
        managerDidCloseSession  -> managerDidEndSession

Version 1.0.5

* Improved handling of multiple rewards in a session

Version 1.0.4

* Added custom background for Kiip loading indicator

Version 1.0.3

* Improved status bar functionality
* Updated notifications without an image functionality

Version 1.0.2

* Fixed Kiip session handling

Version 1.0.1

* Modified spinner background
* Modified OAuth parameter handling
* Fixed static variable issues

Version 1.0.0

* First version.

- - - -

Copyright (c) 2010-2011 Kiip, Inc. All rights reserved.
